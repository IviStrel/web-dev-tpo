<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Encuentra los mejores locales comerciales en nuestro centro comercial"
    />
    <title>Locales Comerciales - Centro Comercial Tem√°tico</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/navigation.css" />
    <link rel="stylesheet" href="css/stores.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>

    <header role="banner">
      <nav role="navigation" aria-label="Navegaci√≥n principal">
        <div class="nav-container">
          <div class="logo">
            <a href="index.html" aria-label="Ir a inicio">
              <h1>Centro Comercial KotoKoto</h1>
            </a>
          </div>
          <button
            class="menu-toggle"
            aria-label="Abrir men√∫"
            aria-expanded="false"
            aria-controls="main-menu"
          >
            <span></span>
            <span></span>
            <span></span>
          </button>
          <ul id="main-menu" class="nav-menu" role="menubar">
            <li role="none"><a href="index.html" role="menuitem">Inicio</a></li>
            <li role="none">
              <a href="services.html" role="menuitem">Servicios</a>
            </li>
            <li role="none">
              <a href="entertainment.html" role="menuitem">Entretenimiento</a>
            </li>
            <li role="none">
              <a href="stores.html" role="menuitem" aria-current="page"
                >Locales</a
              >
            </li>
            <li role="none">
              <a href="offers.html" role="menuitem">Ofertas</a>
            </li>
            <li role="none">
              <a href="dining.html" role="menuitem">Gastronom√≠a</a>
            </li>
            <li role="none">
              <a href="contact.html" role="menuitem">Contacto</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <main id="main-content" role="main">
      <section class="page-header" aria-labelledby="page-title">
        <div class="container">
          <h1 id="page-title">Locales Comerciales</h1>
          <p class="page-subtitle">Encuentra el local que buscas</p>
        </div>
      </section>

      <section class="stores-section" aria-labelledby="search-title">
        <div class="container">
          <div class="search-container">
            <h2 id="search-title" class="sr-only">Buscar locales</h2>
            <div class="search-wrapper">
              <label for="store-search" class="search-label"
                >Buscar por nombre o categor√≠a</label
              >
              <div class="search-input-wrapper">
                <input
                  type="text"
                  id="store-search"
                  class="search-input"
                  placeholder="Ej: ropa, tecnolog√≠a, zapatos..."
                  aria-label="Buscar locales comerciales"
                  autocomplete="off"
                />
                <span class="search-icon" aria-hidden="true">üîç</span>
              </div>
              <div
                id="search-results-count"
                class="search-results-count"
                role="status"
                aria-live="polite"
              ></div>
            </div>

            <div class="filter-container">
              <label for="category-filter" class="filter-label"
                >Filtrar por categor√≠a</label
              >
              <select
                id="category-filter"
                class="filter-select"
                aria-label="Filtrar locales por categor√≠a"
              >
                <option value="all">Todas las categor√≠as</option>
                <option value="ropa">Ropa y Moda</option>
                <option value="tecnologia">Tecnolog√≠a</option>
                <option value="deportes">Deportes</option>
                <option value="belleza">Belleza y Cosm√©tica</option>
                <option value="hogar">Hogar y Decoraci√≥n</option>
                <option value="juguetes">Juguetes</option>
              </select>
            </div>
          </div>
        </div>
      </section>

      <section class="stores-section" aria-labelledby="map-title">
        <div class="container">
          <h2 id="map-title">Mapa Interactivo</h2>
          <div class="map-container">
            <div
              id="store-map"
              class="store-map"
              role="img"
              aria-label="Mapa del centro comercial con ubicaci√≥n de locales"
              style="position: relative; background: #f8fafc; border-radius: 14px; box-shadow: var(--shadow-md); padding: 24px; overflow-x: auto;"
            >
              <div class="map-legend">
                <h3>Leyenda</h3>
                <ul>
                  <li><span class="legend-color nivel1"></span> Nivel 1</li>
                  <li><span class="legend-color nivel2"></span> Nivel 2</li>
                  <li><span class="legend-color nivel3"></span> Nivel 3</li>
                </ul>
              </div>

              <!-- MAPA INTERACTIVO ESTILO PLANO -->
              <div style="width:100%; min-width:600px; overflow-x:auto;">
                <div style="position: relative; width: 820px; height: 480px; background: url('images/centro-comercial-plano-bg.png') no-repeat center center; background-size: cover; border-radius: 12px; margin: 0 auto; border: 1.5px solid #e2e8f0;">
                  <!-- Caminos principales - SVG overlay (como la referencia visual) -->
                  <svg width="820" height="480" style="position:absolute;top:0;left:0;z-index:0;pointer-events:none;">
                    <!-- Ejemplo de caminos: personal√≠zalos seg√∫n el plano real --> 
                    <polyline points="200,60 180,140 300,160 330,90 400,120 420,60 600,80 790,110 740,240 650,250 540,260 360,290 180,260 130,370 360,380 490,420 650,420 720,330 800,355" 
                      style="fill:none;stroke:#3399ff;stroke-width:4;stroke-dasharray:8,7; opacity:0.5"/>
                    <!-- Puedes agregar m√°s caminos seg√∫n corresponda -->
                  </svg>

                  <!-- PINS de locales ejemplo; estos son interactivos y se renderizan por JS en #map-grid, aqu√≠ solo ponemos el fondo/plano y caminos -->

                  <div class="map-grid" id="map-grid" style="position:absolute;top:0;left:0;width:100%;height:100%;">
                    <!-- Aqu√≠ JS coloca los locales como pines/celdas interactivos -->
                  </div>
                </div>
              </div>
              <!-- FIN MAPA INTERACTIVO ESTILO PLANO -->

            </div>
          </div>
        </div>
      </section>

      <section class="stores-section" aria-labelledby="stores-list-title">
        <div class="container">
          <h2 id="stores-list-title">Lista de Locales</h2>
          <div id="stores-list" class="stores-list" role="list">
            <!-- // -->
          </div>
          <div
            id="no-results"
            class="no-results"
            role="alert"
            aria-live="polite"
            style="display: none"
          >
            <p>No se encontraron locales que coincidan con tu b√∫squeda.</p>
            <button class="btn" onclick="clearFilters()">
              Limpiar filtros
            </button>
          </div>
        </div>
      </section>
    </main>

    <footer role="contentinfo">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Centro Comercial KotoKoto</h3>
            <p>
              Tu destino para compras, entretenimiento y experiencias √∫nicas.
            </p>
          </div>
          <div class="footer-section">
            <h4>Enlaces</h4>
            <ul>
              <li><a href="index.html">Inicio</a></li>
              <li><a href="services.html">Servicios</a></li>
              <li><a href="entertainment.html">Entretenimiento</a></li>
              <li><a href="stores.html">Locales</a></li>
              <li><a href="offers.html">Ofertas</a></li>
              <li><a href="dining.html">Gastronom√≠a</a></li>
              <li><a href="contact.html">Contacto</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Contacto</h4>
            <p>Direcci√≥n: Av. Libertador 1734</p>
            <p>Tel√©fono: (011) 5617-2498</p>
            <p>Email: info@centrocomercialkotokoto.com</p>
          </div>
          <div class="footer-section">
            <h4>Horarios</h4>
            <p>Lunes a Viernes: 10:00 - 22:00</p>
            <p>S√°bados y Domingos: 10:00 - 23:00</p>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 Centro Comercial KotoKoto. Todos los derechos reservados.</p>
        </div>
      </div>
    </footer>

    <script src="js/navigation.js"></script>
    <script src="js/stores.js"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css"
      rel="stylesheet"
    />
    <script type="module">
      import { createChat } from "https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js";
      import { chatBotConfig } from "./config/chat-bot.js";

      createChat(chatBotConfig);
    </script>
  </body>
</html>
